{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport warning from \"rc-util/es/warning\";\nimport * as React from 'react';\nimport { INTERNAL_HOOKS } from \"../Table\";\nimport { findAllChildrenKeys, renderExpandIcon } from \"../utils/expandUtil\";\nimport { getExpandableProps } from \"../utils/legacyUtil\";\nexport default function useExpand(props, mergedData, getRowKey) {\n  var expandableConfig = getExpandableProps(props);\n  var expandIcon = expandableConfig.expandIcon,\n      expandedRowKeys = expandableConfig.expandedRowKeys,\n      defaultExpandedRowKeys = expandableConfig.defaultExpandedRowKeys,\n      defaultExpandAllRows = expandableConfig.defaultExpandAllRows,\n      expandedRowRender = expandableConfig.expandedRowRender,\n      onExpand = expandableConfig.onExpand,\n      onExpandedRowsChange = expandableConfig.onExpandedRowsChange,\n      childrenColumnName = expandableConfig.childrenColumnName;\n  var mergedExpandIcon = expandIcon || renderExpandIcon;\n  var mergedChildrenColumnName = childrenColumnName || 'children';\n  var expandableType = React.useMemo(function () {\n    if (expandedRowRender) {\n      return 'row';\n    }\n    /* eslint-disable no-underscore-dangle */\n\n    /**\n     * Fix https://github.com/ant-design/ant-design/issues/21154\n     * This is a workaround to not to break current behavior.\n     * We can remove follow code after final release.\n     *\n     * To other developer:\n     *  Do not use `__PARENT_RENDER_ICON__` in prod since we will remove this when refactor\n     */\n\n\n    if (props.expandable && props.internalHooks === INTERNAL_HOOKS && props.expandable.__PARENT_RENDER_ICON__ || mergedData.some(function (record) {\n      return record && _typeof(record) === 'object' && record[mergedChildrenColumnName];\n    })) {\n      return 'nest';\n    }\n    /* eslint-enable */\n\n\n    return false;\n  }, [!!expandedRowRender, mergedData]);\n\n  var _React$useState = React.useState(function () {\n    if (defaultExpandedRowKeys) {\n      return defaultExpandedRowKeys;\n    }\n\n    if (defaultExpandAllRows) {\n      return findAllChildrenKeys(mergedData, getRowKey, mergedChildrenColumnName);\n    }\n\n    return [];\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      innerExpandedKeys = _React$useState2[0],\n      setInnerExpandedKeys = _React$useState2[1];\n\n  var mergedExpandedKeys = React.useMemo(function () {\n    return new Set(expandedRowKeys || innerExpandedKeys || []);\n  }, [expandedRowKeys, innerExpandedKeys]);\n  var onTriggerExpand = React.useCallback(function (record) {\n    var key = getRowKey(record, mergedData.indexOf(record));\n    var newExpandedKeys;\n    var hasKey = mergedExpandedKeys.has(key);\n\n    if (hasKey) {\n      mergedExpandedKeys.delete(key);\n      newExpandedKeys = _toConsumableArray(mergedExpandedKeys);\n    } else {\n      newExpandedKeys = [].concat(_toConsumableArray(mergedExpandedKeys), [key]);\n    }\n\n    setInnerExpandedKeys(newExpandedKeys);\n\n    if (onExpand) {\n      onExpand(!hasKey, record);\n    }\n\n    if (onExpandedRowsChange) {\n      onExpandedRowsChange(newExpandedKeys);\n    }\n  }, [getRowKey, mergedExpandedKeys, mergedData, onExpand, onExpandedRowsChange]); // Warning if use `expandedRowRender` and nest children in the same time\n\n  if (process.env.NODE_ENV !== 'production' && expandedRowRender && mergedData.some(function (record) {\n    return Array.isArray(record === null || record === void 0 ? void 0 : record[mergedChildrenColumnName]);\n  })) {\n    warning(false, '`expandedRowRender` should not use with nested Table');\n  }\n\n  return [expandableConfig, expandableType, mergedExpandedKeys, mergedExpandIcon, mergedChildrenColumnName, onTriggerExpand];\n}","map":{"version":3,"names":["_toConsumableArray","_slicedToArray","_typeof","warning","React","INTERNAL_HOOKS","findAllChildrenKeys","renderExpandIcon","getExpandableProps","useExpand","props","mergedData","getRowKey","expandableConfig","expandIcon","expandedRowKeys","defaultExpandedRowKeys","defaultExpandAllRows","expandedRowRender","onExpand","onExpandedRowsChange","childrenColumnName","mergedExpandIcon","mergedChildrenColumnName","expandableType","useMemo","expandable","internalHooks","__PARENT_RENDER_ICON__","some","record","_React$useState","useState","_React$useState2","innerExpandedKeys","setInnerExpandedKeys","mergedExpandedKeys","Set","onTriggerExpand","useCallback","key","indexOf","newExpandedKeys","hasKey","has","delete","concat","process","env","NODE_ENV","Array","isArray"],"sources":["D:/year4sem2/evmos/campaign/node_modules/rc-table/es/hooks/useExpand.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport warning from \"rc-util/es/warning\";\nimport * as React from 'react';\nimport { INTERNAL_HOOKS } from \"../Table\";\nimport { findAllChildrenKeys, renderExpandIcon } from \"../utils/expandUtil\";\nimport { getExpandableProps } from \"../utils/legacyUtil\";\nexport default function useExpand(props, mergedData, getRowKey) {\n  var expandableConfig = getExpandableProps(props);\n  var expandIcon = expandableConfig.expandIcon,\n      expandedRowKeys = expandableConfig.expandedRowKeys,\n      defaultExpandedRowKeys = expandableConfig.defaultExpandedRowKeys,\n      defaultExpandAllRows = expandableConfig.defaultExpandAllRows,\n      expandedRowRender = expandableConfig.expandedRowRender,\n      onExpand = expandableConfig.onExpand,\n      onExpandedRowsChange = expandableConfig.onExpandedRowsChange,\n      childrenColumnName = expandableConfig.childrenColumnName;\n  var mergedExpandIcon = expandIcon || renderExpandIcon;\n  var mergedChildrenColumnName = childrenColumnName || 'children';\n  var expandableType = React.useMemo(function () {\n    if (expandedRowRender) {\n      return 'row';\n    }\n    /* eslint-disable no-underscore-dangle */\n\n    /**\n     * Fix https://github.com/ant-design/ant-design/issues/21154\n     * This is a workaround to not to break current behavior.\n     * We can remove follow code after final release.\n     *\n     * To other developer:\n     *  Do not use `__PARENT_RENDER_ICON__` in prod since we will remove this when refactor\n     */\n\n\n    if (props.expandable && props.internalHooks === INTERNAL_HOOKS && props.expandable.__PARENT_RENDER_ICON__ || mergedData.some(function (record) {\n      return record && _typeof(record) === 'object' && record[mergedChildrenColumnName];\n    })) {\n      return 'nest';\n    }\n    /* eslint-enable */\n\n\n    return false;\n  }, [!!expandedRowRender, mergedData]);\n\n  var _React$useState = React.useState(function () {\n    if (defaultExpandedRowKeys) {\n      return defaultExpandedRowKeys;\n    }\n\n    if (defaultExpandAllRows) {\n      return findAllChildrenKeys(mergedData, getRowKey, mergedChildrenColumnName);\n    }\n\n    return [];\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      innerExpandedKeys = _React$useState2[0],\n      setInnerExpandedKeys = _React$useState2[1];\n\n  var mergedExpandedKeys = React.useMemo(function () {\n    return new Set(expandedRowKeys || innerExpandedKeys || []);\n  }, [expandedRowKeys, innerExpandedKeys]);\n  var onTriggerExpand = React.useCallback(function (record) {\n    var key = getRowKey(record, mergedData.indexOf(record));\n    var newExpandedKeys;\n    var hasKey = mergedExpandedKeys.has(key);\n\n    if (hasKey) {\n      mergedExpandedKeys.delete(key);\n      newExpandedKeys = _toConsumableArray(mergedExpandedKeys);\n    } else {\n      newExpandedKeys = [].concat(_toConsumableArray(mergedExpandedKeys), [key]);\n    }\n\n    setInnerExpandedKeys(newExpandedKeys);\n\n    if (onExpand) {\n      onExpand(!hasKey, record);\n    }\n\n    if (onExpandedRowsChange) {\n      onExpandedRowsChange(newExpandedKeys);\n    }\n  }, [getRowKey, mergedExpandedKeys, mergedData, onExpand, onExpandedRowsChange]); // Warning if use `expandedRowRender` and nest children in the same time\n\n  if (process.env.NODE_ENV !== 'production' && expandedRowRender && mergedData.some(function (record) {\n    return Array.isArray(record === null || record === void 0 ? void 0 : record[mergedChildrenColumnName]);\n  })) {\n    warning(false, '`expandedRowRender` should not use with nested Table');\n  }\n\n  return [expandableConfig, expandableType, mergedExpandedKeys, mergedExpandIcon, mergedChildrenColumnName, onTriggerExpand];\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}