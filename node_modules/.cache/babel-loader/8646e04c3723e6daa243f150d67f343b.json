{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport TimeHeader from \"./TimeHeader\";\nimport TimeBody from \"./TimeBody\";\nimport { createKeyDownHandler } from \"../../utils/uiUtil\";\n\nvar countBoolean = function countBoolean(boolList) {\n  return boolList.filter(function (bool) {\n    return bool !== false;\n  }).length;\n};\n\nfunction TimePanel(props) {\n  var generateConfig = props.generateConfig,\n      _props$format = props.format,\n      format = _props$format === void 0 ? 'HH:mm:ss' : _props$format,\n      prefixCls = props.prefixCls,\n      active = props.active,\n      operationRef = props.operationRef,\n      showHour = props.showHour,\n      showMinute = props.showMinute,\n      showSecond = props.showSecond,\n      _props$use12Hours = props.use12Hours,\n      use12Hours = _props$use12Hours === void 0 ? false : _props$use12Hours,\n      onSelect = props.onSelect,\n      value = props.value;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-time-panel\");\n  var bodyOperationRef = React.useRef(); // ======================= Keyboard =======================\n\n  var _React$useState = React.useState(-1),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      activeColumnIndex = _React$useState2[0],\n      setActiveColumnIndex = _React$useState2[1];\n\n  var columnsCount = countBoolean([showHour, showMinute, showSecond, use12Hours]);\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      return createKeyDownHandler(event, {\n        onLeftRight: function onLeftRight(diff) {\n          setActiveColumnIndex((activeColumnIndex + diff + columnsCount) % columnsCount);\n        },\n        onUpDown: function onUpDown(diff) {\n          if (activeColumnIndex === -1) {\n            setActiveColumnIndex(0);\n          } else if (bodyOperationRef.current) {\n            bodyOperationRef.current.onUpDown(diff);\n          }\n        },\n        onEnter: function onEnter() {\n          onSelect(value || generateConfig.getNow(), 'key');\n          setActiveColumnIndex(-1);\n        }\n      });\n    },\n    onBlur: function onBlur() {\n      setActiveColumnIndex(-1);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(panelPrefixCls, _defineProperty({}, \"\".concat(panelPrefixCls, \"-active\"), active))\n  }, /*#__PURE__*/React.createElement(TimeHeader, _extends({}, props, {\n    format: format,\n    prefixCls: prefixCls\n  })), /*#__PURE__*/React.createElement(TimeBody, _extends({}, props, {\n    prefixCls: prefixCls,\n    activeColumnIndex: activeColumnIndex,\n    operationRef: bodyOperationRef\n  })));\n}\n\nexport default TimePanel;","map":{"version":3,"names":["_extends","_defineProperty","_slicedToArray","React","classNames","TimeHeader","TimeBody","createKeyDownHandler","countBoolean","boolList","filter","bool","length","TimePanel","props","generateConfig","_props$format","format","prefixCls","active","operationRef","showHour","showMinute","showSecond","_props$use12Hours","use12Hours","onSelect","value","panelPrefixCls","concat","bodyOperationRef","useRef","_React$useState","useState","_React$useState2","activeColumnIndex","setActiveColumnIndex","columnsCount","current","onKeyDown","event","onLeftRight","diff","onUpDown","onEnter","getNow","onBlur","createElement","className"],"sources":["D:/year4sem2/evmos/campaign/node_modules/rc-picker/es/panels/TimePanel/index.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport TimeHeader from \"./TimeHeader\";\nimport TimeBody from \"./TimeBody\";\nimport { createKeyDownHandler } from \"../../utils/uiUtil\";\nvar countBoolean = function countBoolean(boolList) {\n  return boolList.filter(function (bool) {\n    return bool !== false;\n  }).length;\n};\nfunction TimePanel(props) {\n  var generateConfig = props.generateConfig,\n    _props$format = props.format,\n    format = _props$format === void 0 ? 'HH:mm:ss' : _props$format,\n    prefixCls = props.prefixCls,\n    active = props.active,\n    operationRef = props.operationRef,\n    showHour = props.showHour,\n    showMinute = props.showMinute,\n    showSecond = props.showSecond,\n    _props$use12Hours = props.use12Hours,\n    use12Hours = _props$use12Hours === void 0 ? false : _props$use12Hours,\n    onSelect = props.onSelect,\n    value = props.value;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-time-panel\");\n  var bodyOperationRef = React.useRef();\n\n  // ======================= Keyboard =======================\n  var _React$useState = React.useState(-1),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    activeColumnIndex = _React$useState2[0],\n    setActiveColumnIndex = _React$useState2[1];\n  var columnsCount = countBoolean([showHour, showMinute, showSecond, use12Hours]);\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      return createKeyDownHandler(event, {\n        onLeftRight: function onLeftRight(diff) {\n          setActiveColumnIndex((activeColumnIndex + diff + columnsCount) % columnsCount);\n        },\n        onUpDown: function onUpDown(diff) {\n          if (activeColumnIndex === -1) {\n            setActiveColumnIndex(0);\n          } else if (bodyOperationRef.current) {\n            bodyOperationRef.current.onUpDown(diff);\n          }\n        },\n        onEnter: function onEnter() {\n          onSelect(value || generateConfig.getNow(), 'key');\n          setActiveColumnIndex(-1);\n        }\n      });\n    },\n    onBlur: function onBlur() {\n      setActiveColumnIndex(-1);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(panelPrefixCls, _defineProperty({}, \"\".concat(panelPrefixCls, \"-active\"), active))\n  }, /*#__PURE__*/React.createElement(TimeHeader, _extends({}, props, {\n    format: format,\n    prefixCls: prefixCls\n  })), /*#__PURE__*/React.createElement(TimeBody, _extends({}, props, {\n    prefixCls: prefixCls,\n    activeColumnIndex: activeColumnIndex,\n    operationRef: bodyOperationRef\n  })));\n}\nexport default TimePanel;"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,oCAArB;AACA,OAAOC,eAAP,MAA4B,2CAA5B;AACA,OAAOC,cAAP,MAA2B,0CAA3B;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAASC,oBAAT,QAAqC,oBAArC;;AACA,IAAIC,YAAY,GAAG,SAASA,YAAT,CAAsBC,QAAtB,EAAgC;EACjD,OAAOA,QAAQ,CAACC,MAAT,CAAgB,UAAUC,IAAV,EAAgB;IACrC,OAAOA,IAAI,KAAK,KAAhB;EACD,CAFM,EAEJC,MAFH;AAGD,CAJD;;AAKA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;EACxB,IAAIC,cAAc,GAAGD,KAAK,CAACC,cAA3B;EAAA,IACEC,aAAa,GAAGF,KAAK,CAACG,MADxB;EAAA,IAEEA,MAAM,GAAGD,aAAa,KAAK,KAAK,CAAvB,GAA2B,UAA3B,GAAwCA,aAFnD;EAAA,IAGEE,SAAS,GAAGJ,KAAK,CAACI,SAHpB;EAAA,IAIEC,MAAM,GAAGL,KAAK,CAACK,MAJjB;EAAA,IAKEC,YAAY,GAAGN,KAAK,CAACM,YALvB;EAAA,IAMEC,QAAQ,GAAGP,KAAK,CAACO,QANnB;EAAA,IAOEC,UAAU,GAAGR,KAAK,CAACQ,UAPrB;EAAA,IAQEC,UAAU,GAAGT,KAAK,CAACS,UARrB;EAAA,IASEC,iBAAiB,GAAGV,KAAK,CAACW,UAT5B;EAAA,IAUEA,UAAU,GAAGD,iBAAiB,KAAK,KAAK,CAA3B,GAA+B,KAA/B,GAAuCA,iBAVtD;EAAA,IAWEE,QAAQ,GAAGZ,KAAK,CAACY,QAXnB;EAAA,IAYEC,KAAK,GAAGb,KAAK,CAACa,KAZhB;EAaA,IAAIC,cAAc,GAAG,GAAGC,MAAH,CAAUX,SAAV,EAAqB,aAArB,CAArB;EACA,IAAIY,gBAAgB,GAAG3B,KAAK,CAAC4B,MAAN,EAAvB,CAfwB,CAiBxB;;EACA,IAAIC,eAAe,GAAG7B,KAAK,CAAC8B,QAAN,CAAe,CAAC,CAAhB,CAAtB;EAAA,IACEC,gBAAgB,GAAGhC,cAAc,CAAC8B,eAAD,EAAkB,CAAlB,CADnC;EAAA,IAEEG,iBAAiB,GAAGD,gBAAgB,CAAC,CAAD,CAFtC;EAAA,IAGEE,oBAAoB,GAAGF,gBAAgB,CAAC,CAAD,CAHzC;;EAIA,IAAIG,YAAY,GAAG7B,YAAY,CAAC,CAACa,QAAD,EAAWC,UAAX,EAAuBC,UAAvB,EAAmCE,UAAnC,CAAD,CAA/B;EACAL,YAAY,CAACkB,OAAb,GAAuB;IACrBC,SAAS,EAAE,SAASA,SAAT,CAAmBC,KAAnB,EAA0B;MACnC,OAAOjC,oBAAoB,CAACiC,KAAD,EAAQ;QACjCC,WAAW,EAAE,SAASA,WAAT,CAAqBC,IAArB,EAA2B;UACtCN,oBAAoB,CAAC,CAACD,iBAAiB,GAAGO,IAApB,GAA2BL,YAA5B,IAA4CA,YAA7C,CAApB;QACD,CAHgC;QAIjCM,QAAQ,EAAE,SAASA,QAAT,CAAkBD,IAAlB,EAAwB;UAChC,IAAIP,iBAAiB,KAAK,CAAC,CAA3B,EAA8B;YAC5BC,oBAAoB,CAAC,CAAD,CAApB;UACD,CAFD,MAEO,IAAIN,gBAAgB,CAACQ,OAArB,EAA8B;YACnCR,gBAAgB,CAACQ,OAAjB,CAAyBK,QAAzB,CAAkCD,IAAlC;UACD;QACF,CAVgC;QAWjCE,OAAO,EAAE,SAASA,OAAT,GAAmB;UAC1BlB,QAAQ,CAACC,KAAK,IAAIZ,cAAc,CAAC8B,MAAf,EAAV,EAAmC,KAAnC,CAAR;UACAT,oBAAoB,CAAC,CAAC,CAAF,CAApB;QACD;MAdgC,CAAR,CAA3B;IAgBD,CAlBoB;IAmBrBU,MAAM,EAAE,SAASA,MAAT,GAAkB;MACxBV,oBAAoB,CAAC,CAAC,CAAF,CAApB;IACD;EArBoB,CAAvB;EAuBA,OAAO,aAAajC,KAAK,CAAC4C,aAAN,CAAoB,KAApB,EAA2B;IAC7CC,SAAS,EAAE5C,UAAU,CAACwB,cAAD,EAAiB3B,eAAe,CAAC,EAAD,EAAK,GAAG4B,MAAH,CAAUD,cAAV,EAA0B,SAA1B,CAAL,EAA2CT,MAA3C,CAAhC;EADwB,CAA3B,EAEjB,aAAahB,KAAK,CAAC4C,aAAN,CAAoB1C,UAApB,EAAgCL,QAAQ,CAAC,EAAD,EAAKc,KAAL,EAAY;IAClEG,MAAM,EAAEA,MAD0D;IAElEC,SAAS,EAAEA;EAFuD,CAAZ,CAAxC,CAFI,EAKf,aAAaf,KAAK,CAAC4C,aAAN,CAAoBzC,QAApB,EAA8BN,QAAQ,CAAC,EAAD,EAAKc,KAAL,EAAY;IAClEI,SAAS,EAAEA,SADuD;IAElEiB,iBAAiB,EAAEA,iBAF+C;IAGlEf,YAAY,EAAEU;EAHoD,CAAZ,CAAtC,CALE,CAApB;AAUD;;AACD,eAAejB,SAAf"},"metadata":{},"sourceType":"module"}