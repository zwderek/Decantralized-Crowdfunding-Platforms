{"ast":null,"code":"import React, { useEffect, useRef } from 'react';\nimport { composeRef, supportRef } from \"rc-util/es/ref\";\nimport findDOMNode from \"rc-util/es/Dom/findDOMNode\";\nimport canUseDom from \"rc-util/es/Dom/canUseDom\";\nimport useEvent from \"rc-util/es/hooks/useEvent\";\nimport DomWrapper from \"./wapper\";\nvar defOptions = {\n  subtree: true,\n  childList: true,\n  attributeFilter: ['style', 'class']\n};\n\nvar MutateObserver = function MutateObserver(props) {\n  var children = props.children,\n      _props$options = props.options,\n      options = _props$options === void 0 ? defOptions : _props$options,\n      _props$onMutate = props.onMutate,\n      onMutate = _props$onMutate === void 0 ? function () {} : _props$onMutate;\n  var callback = useEvent(onMutate);\n  var wrapperRef = useRef(null);\n  var elementRef = React.useRef(null);\n  var canRef = /*#__PURE__*/React.isValidElement(children) && supportRef(children);\n  var originRef = canRef ? children === null || children === void 0 ? void 0 : children.ref : null;\n  var mergedRef = React.useMemo(function () {\n    return composeRef(originRef, elementRef);\n  }, [originRef, elementRef]);\n  useEffect(function () {\n    if (!canUseDom()) {\n      return;\n    }\n\n    var instance;\n    var currentElement = findDOMNode(originRef === null || originRef === void 0 ? void 0 : originRef.current) || findDOMNode(wrapperRef === null || wrapperRef === void 0 ? void 0 : wrapperRef.current);\n\n    if (currentElement && 'MutationObserver' in window) {\n      instance = new MutationObserver(callback);\n      instance.observe(currentElement, options);\n    }\n\n    return function () {\n      var _instance, _instance2;\n\n      (_instance = instance) === null || _instance === void 0 ? void 0 : _instance.takeRecords();\n      (_instance2 = instance) === null || _instance2 === void 0 ? void 0 : _instance2.disconnect();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [options, originRef]);\n\n  if (!children) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.error('MutationObserver need children props');\n    }\n\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(DomWrapper, {\n    ref: wrapperRef\n  }, canRef ? /*#__PURE__*/React.cloneElement(children, {\n    ref: mergedRef\n  }) : children);\n};\n\nexport default MutateObserver;","map":{"version":3,"names":["React","useEffect","useRef","composeRef","supportRef","findDOMNode","canUseDom","useEvent","DomWrapper","defOptions","subtree","childList","attributeFilter","MutateObserver","props","children","_props$options","options","_props$onMutate","onMutate","callback","wrapperRef","elementRef","canRef","isValidElement","originRef","ref","mergedRef","useMemo","instance","currentElement","current","window","MutationObserver","observe","_instance","_instance2","takeRecords","disconnect","process","env","NODE_ENV","console","error","createElement","cloneElement"],"sources":["D:/year4sem2/evmos/campaign/node_modules/@rc-component/mutate-observer/es/index.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { composeRef, supportRef } from \"rc-util/es/ref\";\nimport findDOMNode from \"rc-util/es/Dom/findDOMNode\";\nimport canUseDom from \"rc-util/es/Dom/canUseDom\";\nimport useEvent from \"rc-util/es/hooks/useEvent\";\nimport DomWrapper from \"./wapper\";\nvar defOptions = {\n  subtree: true,\n  childList: true,\n  attributeFilter: ['style', 'class']\n};\n\nvar MutateObserver = function MutateObserver(props) {\n  var children = props.children,\n      _props$options = props.options,\n      options = _props$options === void 0 ? defOptions : _props$options,\n      _props$onMutate = props.onMutate,\n      onMutate = _props$onMutate === void 0 ? function () {} : _props$onMutate;\n  var callback = useEvent(onMutate);\n  var wrapperRef = useRef(null);\n  var elementRef = React.useRef(null);\n  var canRef = /*#__PURE__*/React.isValidElement(children) && supportRef(children);\n  var originRef = canRef ? children === null || children === void 0 ? void 0 : children.ref : null;\n  var mergedRef = React.useMemo(function () {\n    return composeRef(originRef, elementRef);\n  }, [originRef, elementRef]);\n  useEffect(function () {\n    if (!canUseDom()) {\n      return;\n    }\n\n    var instance;\n    var currentElement = findDOMNode(originRef === null || originRef === void 0 ? void 0 : originRef.current) || findDOMNode(wrapperRef === null || wrapperRef === void 0 ? void 0 : wrapperRef.current);\n\n    if (currentElement && 'MutationObserver' in window) {\n      instance = new MutationObserver(callback);\n      instance.observe(currentElement, options);\n    }\n\n    return function () {\n      var _instance, _instance2;\n\n      (_instance = instance) === null || _instance === void 0 ? void 0 : _instance.takeRecords();\n      (_instance2 = instance) === null || _instance2 === void 0 ? void 0 : _instance2.disconnect();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [options, originRef]);\n\n  if (!children) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.error('MutationObserver need children props');\n    }\n\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(DomWrapper, {\n    ref: wrapperRef\n  }, canRef ? /*#__PURE__*/React.cloneElement(children, {\n    ref: mergedRef\n  }) : children);\n};\n\nexport default MutateObserver;"],"mappings":"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"},"metadata":{},"sourceType":"module"}